# adminAPI

## 1. 管理用户
### 1.1   创建新管理用户

- 请求路径：`/admin/user`
- 请求方法：`post`
- 请求参数
```json
{
    "username":"SITW",
    "password":"1234",
    "jurisdiction":{
        "readable":"true", //默认为true
        "writable":"false"
    },
    "type":1,
    "role_name":"一般用户"
}
```

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 1.2   登录

- 请求路径：`/admin/user/login`
- 请求方法：`post`
- 请求参数
```json
{
    "username":"用户名",
    "password":"密码",
}
```

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 1.3   获取管理用户分页列表
- 请求路径：`/admin/user`
- 请求方法：`get`
- 请求参数
  
| 参数名   | 参数说明     | 备注     |
| -------- | ------------ | -------- |
| query    | 查询参数     | 可以为空 |
| pagenum  | 当前页码     | 不能为空 |
| pagesize | 每页显示条数 | 不能为空 |

- 响应参数

| 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| totalpage | 总记录数     |      |
| pagenum   | 当前页码     |      |
| data     | 用户数据集合 |      |


- 响应数据
```js
{
    errno:0,
    data:{
    "maxNum": '总数据',
    "pageCount":'总页码',
    "pagenum":'当前页面',
    "pageSize":'指定每页显示条数' ,
    "data": [
            {
                "id": 25,
                "username": "用户名",
                "type": 1,
                "create_time": "创建时间",
                "mg_state": true, // 当前用户的状态
                "role_name": "超级管理员"
            },
            {
                ...
            }
        ]
    }
}
}
```
### 1.4   获取单个用户信息
- 请求路径：`/admin/user/:id`
- 请求方法：`get`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| uId     | 用户 id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 1.5   编辑用户提交
- 请求路径：`/admin/users/:id`
- 请求方法：`post`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 用户 id  | 不能为空 |
| type  | 等级     | 可以为空                    |
| jurisdiction | 权限   | true/false   readable-可读 writable-可编辑     可以为空   |
| role_name | 用户角色   | 可以为空                    |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 1.6   修改用户状态
- 请求路径：`/admin/:uId/state/:type`
- 请求方法：`put`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| uId     | 用户 id  | 不能为空 |
| type  | 用户状态     | 不能为空`携带在url中`，值为 true 或者 false                    |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 1.7   删除单个用户

- 请求路径：`/admin/users/:id`
- 请求方法：`delete`
- 请求参数
  
| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 用户 id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```


## 2. 作家管理
### 2.1   创建艺术家

- 请求路径：`/admin/artist`
- 请求方法：`post`
- 请求参数
```json
{
    "artistname": "艺术家名字",
    "artistinfo": "艺术家介绍",
}
```

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 2.2   删除单个艺术家

- 请求路径：`/admin/artist/:id`
- 请求方法：`delete`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 艺术家 id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 2.3   获取艺术家分页列表

- 请求路径：`/admin/artist`
- 请求方法：`get`
- 请求参数


| 参数名   | 参数说明     | 备注     |
| -------- | ------------ | -------- |
| query    | 查询参数     | 可以为空 |
| pagenum  | 当前页码     | 不能为空 |
| pagesize | 每页显示条数 | 不能为空 |

- 响应参数

| 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| totalpage | 总记录数     |      |
| pagenum   | 当前页码     |      |
| maxNum   | 总数据条数     |      |
| pageSize   | 指定每页显示条数     |      |
| data     | 艺术家数据集合 |      |


- 响应数据
```js
{
    errno:0,
    data:{
    "maxNum": '总数据',
    "pageCount":'总页码',
    "pagenum":'当前页面',
    "pageSize":'指定每页显示条数' ,
    "data":[
            {
                "id": 25,
                "artistname": "艺术家名字",
                "artistinfo": "艺术家介绍",
            },
            {
                ...
            }
        ]
    }
}
```
### 2.4   获取单个作家信息
- 请求路径：`/api/artist/:id`
- 请求方法：`get`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 艺术家id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 2.5   编辑艺术家信息
- 请求路径：`/admin/artist/:id`
- 请求方法：`put`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 艺术家 id  | 不能为空 |
| ... | 修改的内容   | 不能为空                   |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```

## 3. 插画管理
### 3.1   创建插画

- 请求路径：`/admin/illustration`
- 请求方法：`post`
- 请求参数
```json
{
        "artistid": "艺术家id",
        "artistname": "艺术家名字",
        "imgurl": "插画图片URL地址",
        "name": "插画名",
        "book": "所属书名",
        "cn": "中文介绍",
        "en": "英文介绍",
}
```
### 3.2   删除单个插画
- 请求路径：`/admin/illustration/:id`
- 请求方法：`delete`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 插画 id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 3.3   获取插画分页列表

- 请求路径：`/admin/illustration`
- 请求方法：`get`
- 请求参数


| 参数名   | 参数说明     | 备注     |
| -------- | ------------ | -------- |
| query    | 查询参数     | 可以为空 |
| pagenum  | 当前页码     | 不能为空 |
| pagesize | 每页显示条数 | 不能为空 |

- 响应参数

| 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| totalpage | 总记录数     |      |
| pagenum   | 当前页码     |      |
| maxNum   | 总数据条数     |      |
| pageSize   | 指定每页显示条数     |      |
| data     | 插画数据集合 |      |


- 响应数据
```js
{
    errno:0,
    data:{
    "maxNum": '总数据',
    "pageCount":'总页码',
    "pagenum":'当前页面',
    "pageSize":'指定每页显示条数' ,
    "data": [
            {
                "id": 25,
                "artistname": "艺术家名字",
                "artistinfo": "艺术家介绍",
            },
            {
                ...
            }
        ]
    }
}
```
### 3.4   获取单个插画信息
- 请求路径：`/admin/illustration/:id`
- 请求方法：`get`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 插画id  | 不能为空 |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```
### 3.5   编辑插画信息
- 请求路径：`/admin/illustration/:id`
- 请求方法：`put`
- 请求参数


| 参数名 | 参数说明 | 备注                       |
| ------ | -------- | -------------------------- |
| id     | 插画 id  | 不能为空 |
| ... | 修改的内容   | 不能为空                   |

- 响应数据
```js
{
    errno:0,
    message:'errno !== 0 的话，的错误信息'
}
```

## 4. 评论管理
### 4.1  获取插画列表

- 请求路径：`/admin/comment`
- 请求方法：`get`
- 请求参数


| 参数名   | 参数说明     | 备注     |
| -------- | ------------ | -------- |
| query    | 查询参数     | 可以为空 |
| pagenum  | 当前页码     | 不能为空 |
| pagesize | 每页显示条数 | 不能为空 |

- 响应参数

| 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| totalpage | 总记录数     |      |
| pagenum   | 当前页码     |      |
| maxNum   | 总数据条数     |      |
| pageSize   | 指定每页显示条数     |      |
| data     | 评论数据集合 |      |


- 响应数据
```js
{
    errno:0,
    data:{
    "maxNum": '总数据',
    "pageCount":'总页码',
    "pagenum":'当前页面',
    "pageSize":'指定每页显示条数' ,
    "data": [
            {
                "username": "用户名",
                "createdAt": "评论时间",
                "artistinfo": "评论内容",
                "illustration": "评论在那副插画",
            },
            {
                ...
            }
        ]
    }
}
```

## 5. 用户管理
### 5.1  获取用户列表

- 请求路径：`/admin/user/info`
- 请求方法：`get`
- 请求参数


| 参数名   | 参数说明     | 备注     |
| -------- | ------------ | -------- |
| query    | 查询参数     | 可以为空 |
| pagenum  | 当前页码     | 不能为空 |
| pagesize | 每页显示条数 | 不能为空 |

- 响应参数

| 参数名    | 参数说明     | 备注 |
| --------- | ------------ | ---- |
| totalpage | 总记录数     |      |
| pagenum   | 当前页码     |      |
| maxNum   | 总数据条数     |      |
| pageSize   | 指定每页显示条数     |      |
| data     | 用户数据集合 |      |


- 响应数据
```js
{
    errno:0,
    data:{
    "maxNum": '总数据',
    "pageCount":'总页码',
    "pagenum":'当前页面',
    "pageSize":'指定每页显示条数' ,
    "data": [
            {
                "_id": "用户id",
                "createdAt": "创建时间",
                "username": "用户名",
                "age": 年龄,
                "sex": "性别",
            },
            {
                ...
            }
        ]
    }
}
```
